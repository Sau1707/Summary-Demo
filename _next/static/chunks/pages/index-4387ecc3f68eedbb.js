(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(8379)}])},8379:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return L}});var d=c(4111),e=c(1438),f=c(8029),g=c(460),h=c(5893),i=c(7294),j=c(5934),k=c(8540),l=c.n(k);function m(a){return(0,h.jsx)("div",{className:l().printPage,children:a.children.map(function(a){return a})})}var n=function(a){(0,f.Z)(c,a);var b=(0,g.Z)(c);function c(){var a;return(0,e.Z)(this,c),a=b.apply(this,arguments),a.state={pages:null,firstRender:!0,arrays:[]},a.arrays=[],a.oldPos={},a.myRef=(0,i.createRef)(),a}var d=c.prototype;return d.componentDidMount=function(){this.calculateArrays()},d.shouldComponentUpdate=function(){return null==this.state.pages||null!=this.state.pages&&!this.state.firstRender&&(this.state.pages=null,this.state.firstRender=!0,!0)},d.componentDidUpdate=function(){if(this.state.firstRender&&this.state.pages){this.state.firstRender=!1,this.animate(),this.storePos();return}this.calculateArrays()},d.renderContent=function(){return(0,h.jsx)(h.Fragment,{children:this.state.arrays.map(function(a,b){return(0,h.jsxs)(m,{children:[" ",a," "]},b)})})},d.calculateArrays=function(){var a=this;this.arrays=[];var b=this.myRef.current.children[0].children,c=[],d=1;Array.from(b).forEach(function(b,e){b.offsetLeft>1095*d&&(a.arrays.push(c),c=[],d+=1),c.push(a.props.children[e])}),this.arrays.push(c),this.setState({pages:1,arrays:this.arrays})},d.storePos=function(){var a=this;Array.from(this.myRef.current.children).map(function(b){Array.from(b.children).map(function(b){var c=document.getElementById(b.id);if(c){var d=c.getBoundingClientRect();a.oldPos[b.id]={x:d.x,y:d.y}}})})},d.animate=function(){var a=this;0!==Object.keys(this.oldPos).length&&Array.from(this.myRef.current.children).map(function(b){Array.from(b.children).map(function(b){var c=b.getBoundingClientRect(),d=a.oldPos[b.id];if(d){var e=[d.x-c.x,d.y-c.y],f=e[0],g=e[1];g&&requestAnimationFrame(function(){var a=document.getElementById(b.id);a&&(a.style.transform="translateX(".concat(f,"px) translateY(").concat(g,"px)"),a.style.transition="transform 0s",requestAnimationFrame(function(){a&&(a.style.transform="",a.style.transition="transform 500ms")}))})}})})},d.render=function(){return(0,h.jsx)("div",{ref:this.myRef,id:"printContainer",className:l().container,children:this.state.pages?this.renderContent():(0,h.jsxs)(m,{children:[" ",this.props.children," "]})})},c}(i.Component),o=c(1799),p=c(9396),q=c(9862),r=function(a){(0,f.Z)(c,a);var b=(0,g.Z)(c);function c(a){(0,e.Z)(this,c),(f=b.call(this,a)).state={dialog:!1},f.myRef=(0,i.createRef)(),f.data={};var f,g=a.data?a.data:a.element.default;return g.id||(g.id=(0,j.Z)()),f.data=(0,o.Z)({},g),f.onDialogClose=f.onDialogClose.bind((0,d.Z)(f)),f}var k=c.prototype;return k.componentDidMount=function(){var a=this.myRef.current;a.addEventListener("transitionstart",function(){a.style.pointerEvents="none"}),a.addEventListener("transitionend",function(){a.style.pointerEvents=""})},k.onDialogClose=function(a){var b=this.context.updateElement(this.data.id,a);this.context.setList(b),this.setState({dialog:!1})},k.render=function(){var a=this;return(0,h.jsxs)("div",{draggable:!0,ref:this.myRef,onDragStart:function(){return a.props.onDrag(a.data.id)},onDragOver:function(b){return a.props.onDragOver(b)},id:this.data.id,onDoubleClick:function(){return a.props.data?a.setState({dialog:!0}):null},children:[(0,h.jsx)(this.props.element.dialog,(0,p.Z)((0,o.Z)({},this.data),{open:this.state.dialog,onClose:this.onDialogClose})),(0,h.jsx)(this.props.element.element,(0,o.Z)({},this.data))]})},c}(i.Component);r.contextType=q.V;var s=c(4749),t=c.n(s);function u(a){var b=(0,i.useState)(!1),c=b[0],d=b[1];return(0,h.jsx)("div",{className:c?t().mainBoxOpen:t().mainBoxClose,children:(0,h.jsxs)("div",{className:"".concat(t().fixed," ").concat(c?t().fixedOpen:t().fixedClose),children:[(0,h.jsx)("div",{onClick:function(){return d(!c)},className:"".concat(t().trigger," ").concat(c?t().triggerClose:t().triggerOpen)}),a.children]})})}var v=c(7297),w=c(330),x=c(4509),y=c(6514),z=c(3745),A=c(8127),B=c(7400),C=c(6886),D=c(89),E=c(7058),F=c(2318);function G(a){return(0,h.jsx)("div",{style:{height:a.height,backgroundColor:a.color,pointerEvents:"none"},children:(0,h.jsxs)("h1",{style:{margin:0},children:[" ",a.text," "]})})}function H(){var a=(0,v.Z)(["\n  width: 42px;\n"]);return H=function(){return a},a}var I=(0,A.ZP)(D.Z)(H()),J={dialog:function(a){var b=(0,i.useState)((0,z.LF)(a.color)),c=b[0],d=b[1],e=(0,i.useState)(a.height),f=e[0],g=e[1],j=(0,i.useState)(a.text),k=j[0],l=j[1],m=function(a){d(a)},n=function(a,b){g(b)},o=function(a){g(""===a.target.value?"":Number(a.target.value))},p=function(){f<50?g(50):f>300&&g(300)},q=function(){a.onClose({color:"#".concat(c.hex),height:f,text:k})},r=function(a){l(a.target.value)};return(0,h.jsxs)(w.Z,{fullWidth:!0,maxWidth:"lg",open:a.open,onClose:q,children:[(0,h.jsx)(x.Z,{children:" Demo element "}),(0,h.jsxs)(y.Z,{children:[(0,h.jsxs)(C.ZP,{container:!0,spacing:8,alignItems:"center",children:[(0,h.jsxs)(C.ZP,{item:!0,children:[(0,h.jsx)(F.Z,{children:"Text: "}),(0,h.jsx)(E.Z,{value:k,onChange:r})]}),(0,h.jsxs)(C.ZP,{item:!0,children:[(0,h.jsx)(F.Z,{children:" Color: "}),(0,h.jsx)(z.zH,{value:c,onChange:m})]}),(0,h.jsxs)(C.ZP,{item:!0,xs:!0,children:[(0,h.jsxs)(F.Z,{component:"span",children:[" Height: ","  ",(0,h.jsx)(I,{value:f,size:"small",onChange:o,onBlur:p,inputProps:{step:10,min:50,max:300,type:"number","aria-labelledby":"input-slider"}})]}),(0,h.jsx)(B.ZP,{value:"number"==typeof f?f:0,onChange:n,"aria-labelledby":"input-slider",min:50,max:300})]})]}),(0,h.jsx)("h1",{children:" Preview: "}),(0,h.jsx)("div",{style:{margin:"auto",width:354.35},children:(0,h.jsx)(G,{height:f,color:"#".concat(c.hex),text:k})})]})]})},element:G,default:{text:"Demo",height:100,color:"#171717"}},K=["title"],L=function(a){(0,f.Z)(c,a);var b=(0,g.Z)(c);function c(a){var f;return(0,e.Z)(this,c),(f=b.call(this,a)).drag={},f.onDragStart=f.onDragStart.bind((0,d.Z)(f)),f}var i=c.prototype;return i.onDragStart=function(a){var b;b=K.includes(a)?this.createElement(a):this.context.getElement(a),this.drag=b},i.handleDrag=function(a){var b=a.target;if(this.drag.id!=b.id){var c=b.getBoundingClientRect(),d=c.y+c.height/2-a.pageY>0,e=this.context.getIndex(b.id);if(e&&this.context.getIndex(this.drag.id)-e!= -1*(d?1:-1)){var f=this.context.insertAndRemove(this.drag,e+(d?0:1));this.context.setList(f)}}},i.createElement=function(a){if("title"==a)return{id:(0,j.Z)(),height:150*Math.random()+50,color:"#".concat(Math.floor(16777215*Math.random()).toString(16)),number:(Math.random()+1).toString(36).substring(7)}},i.render=function(){var a=this;return(0,h.jsxs)("div",{style:{width:"100%",display:"inline-flex"},children:[(0,h.jsx)(u,{children:(0,h.jsx)(r,{onDrag:function(){return a.onDragStart("title")},onDragOver:function(b){a.handleDrag(b)},element:J})}),(0,h.jsx)(n,{children:this.context.list.map(function(b){return(0,h.jsx)(r,{onDrag:a.onDragStart,onDragOver:function(b){a.handleDrag(b)},element:J,data:b},b.id)})})]})},c}(i.Component);L.contextType=q.V},4749:function(a){a.exports={mainBoxOpen:"Menu_mainBoxOpen__Ei2ss","open-animate":"Menu_open-animate__JCl4o",mainBoxClose:"Menu_mainBoxClose__yUzb6","close-animate":"Menu_close-animate__mDtc_",fixed:"Menu_fixed__mLCXz",fixedOpen:"Menu_fixedOpen__BVkih",fixedClose:"Menu_fixedClose__mYVF8",trigger:"Menu_trigger___OI_e",triggerOpen:"Menu_triggerOpen__3f6_Y",spinOpen:"Menu_spinOpen__SyKRl",triggerClose:"Menu_triggerClose__jizy0",spinClose:"Menu_spinClose___MHaw"}},8540:function(a){a.exports={container:"PrintArea_container__S_ux_",printPage:"PrintArea_printPage__ayhQO",dragging:"PrintArea_dragging__G_X2n"}}},function(a){a.O(0,[18,774,888,179],function(){var b;return a(a.s=8312)}),_N_E=a.O()}])